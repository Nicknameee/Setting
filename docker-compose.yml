version: '3.7'

networks:
  crm:
    external: true

services:
  setting:
    image: setting:latest
    container_name: settings
    ports:
      - "8888:8888"
    environment:
      - SPRING_PROFILES_ACTIVE=default,native,dev,elk
      - CONFIG_SERVER_LOGIN=user
      - CONFIG_SERVER_PASSWORD=user
      - SPRING_CLOUD_CONTEXT_PREFIX=/cloud
      - SPRING_CLOUD_CIPHER_KEY=dnjjdn38389mMKMDmdkmkdemk4fdm
      - EUREKA_SERVER_URL=http://user:user@setting:8888/eureka
      - EUREKA_SERVER_LOGIN=user
      - EUREKA_SERVER_PASSWORD=user
    networks:
      - crm